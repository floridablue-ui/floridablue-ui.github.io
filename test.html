<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸í„°ë™í‹°ë¸Œ EOQ í•™ìŠµ ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Analytics -->
    <!-- Application Structure Plan: ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ 4ê°œì˜ ì£¼ìš” ì„¹ì…˜ìœ¼ë¡œ êµ¬ì„±ëœ ë‹¨ì¼ í˜ì´ì§€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤: (1)ê°œë… ì†Œê°œ, (2)ë¹„ìš© ê´€ê³„ ì‹œê°í™”, (3)EOQ ê³„ì‚°ê¸°, (4)ì‹¬í™” ë‚´ìš©(ê³µì‹ ìœ ë„/í•œê³„ì ). ì´ êµ¬ì¡°ëŠ” ì‚¬ìš©ìê°€ 'ë¬´ì—‡ì¸ì§€' íŒŒì•…í•˜ê³ ('ì†Œê°œ'), 'ì™œ' ê·¸ëŸ°ì§€ ì§ê´€ì ìœ¼ë¡œ íƒìƒ‰í•œ í›„('ë¹„ìš© ê´€ê³„'), 'ì–´ë–»ê²Œ' ì‚¬ìš©í•˜ëŠ”ì§€ ì ìš©í•´ë³´ê³ ('ê³„ì‚°ê¸°'), ë§ˆì§€ë§‰ìœ¼ë¡œ 'ë” ê¹Šì´' íŒŒê³ ë“¤ ìˆ˜ ìˆë„ë¡('ì‹¬í™”') ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì •ì ì¸ ë¬¸ì„œë³´ë‹¤ í•™ìŠµ íš¨ê³¼ë¥¼ ê·¹ëŒ€í™”í•˜ëŠ” ì‚¬ìš©ì ê²½í—˜ íë¦„ì„ ì œê³µí•©ë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: 1.í•µì‹¬ ê°œë… -> ëª©í‘œ:ì •ë³´ì „ë‹¬ -> í‘œí˜„:ì•„ì´ì½˜ê³¼ ê°„ê²°í•œ í…ìŠ¤íŠ¸ -> ì •ë‹¹ì„±:í•µì‹¬ ë©”ì‹œì§€ë¥¼ ë¹ ë¥´ê³  ëª…í™•í•˜ê²Œ ì „ë‹¬. 2.ë¹„ìš©ì˜ ìƒì¶©ê´€ê³„ -> ëª©í‘œ:ê´€ê³„ì´í•´ -> í‘œí˜„:Chart.js ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ ë¼ì¸ì°¨íŠ¸ì™€ ìŠ¬ë¼ì´ë” -> ì •ë‹¹ì„±:ì‚¬ìš©ìê°€ ì£¼ë¬¸ëŸ‰ì„ ì§ì ‘ ì¡°ì ˆí•˜ë©° ì´ë¹„ìš© ê³¡ì„ ì˜ ìµœì €ì ì„ ì°¾ëŠ” ê³¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ ì²´í—˜, EOQ ì›ë¦¬ë¥¼ ì§ê´€ì ìœ¼ë¡œ ì²´ë“. 3.ì‹¤ì œ ê³„ì‚° -> ëª©í‘œ:ì‹¤ìš©ì  ì ìš© -> í‘œí˜„:ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë˜ëŠ” JS ê³„ì‚°ê¸° -> ì •ë‹¹ì„±:ì‚¬ìš©ìì—ê²Œ ì¦‰ê°ì ì¸ í”¼ë“œë°±ì„ ì œê³µí•˜ëŠ” ì‹¤ìš©ì ì¸ ë„êµ¬ ì—­í• . 4.ê³µì‹ ìœ ë„/í•œê³„ -> ëª©í‘œ:ì •ë³´ ì¡°ì§í™” -> í‘œí˜„:JS ì•„ì½”ë””ì–¸ ë©”ë‰´ -> ì •ë‹¹ì„±:ë³µì¡í•œ ì •ë³´ë¥¼ ê¸°ë³¸ í™”ë©´ì—ì„œ ìˆ¨ê²¨ ê¹”ë”í•œ UIë¥¼ ìœ ì§€í•˜ê³ , í•„ìš”í•œ ì‚¬ìš©ìë§Œ ì ‘ê·¼í•˜ë„ë¡ í•˜ì—¬ ì‚¬ìš©ì„±ì„ ë†’ì„. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 50vh;
        }
        @media (min-width: 640px) {
            .chart-container {
                height: 400px;
            }
        }
        .section-fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.8s ease-out forwards;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .section-fade-in:nth-child(1) { animation-delay: 0.1s; }
        .section-fade-in:nth-child(2) { animation-delay: 0.2s; }
        .section-fade-in:nth-child(3) { animation-delay: 0.3s; }
        .section-fade-in:nth-child(4) { animation-delay: 0.4s; }
        .section-fade-in:nth-child(5) { animation-delay: 0.5s; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-xl sm:text-2xl font-bold text-teal-600">ì¸í„°ë™í‹°ë¸Œ EOQ í•™ìŠµ ê°€ì´ë“œ</h1>
            <div class="hidden sm:flex space-x-4">
                <a href="#intro" class="text-slate-600 hover:text-teal-600 transition">ì†Œê°œ</a>
                <a href="#visualizer" class="text-slate-600 hover:text-teal-600 transition">ë¹„ìš© ê´€ê³„</a>
                <a href="#calculator" class="text-slate-600 hover:text-teal-600 transition">EOQ ê³„ì‚°ê¸°</a>
                <a href="#deep-dive" class="text-slate-600 hover:text-teal-600 transition">ì‹¬í™” í•™ìŠµ</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
        
        <section id="intro" class="mb-16 section-fade-in">
            <h2 class="text-3xl font-bold mb-4 text-center">ê²½ì œì  ì£¼ë¬¸ìˆ˜ëŸ‰(EOQ)ì´ë€?</h2>
            <p class="max-w-3xl mx-auto text-center text-slate-600 mb-8">
                ê²½ì œì  ì£¼ë¬¸ìˆ˜ëŸ‰(EOQ)ì€ ì¬ê³  ê´€ë¦¬ì™€ ê´€ë ¨ëœ ì´ë¹„ìš©ì„ ìµœì†Œí™”í•˜ëŠ” '1íšŒ ìµœì  ì£¼ë¬¸ëŸ‰'ì…ë‹ˆë‹¤. ì¬ê³  ë¹„ìš©ì€ í¬ê²Œ 'ì£¼ë¬¸ ë¹„ìš©'ê³¼ 'ì¬ê³  ìœ ì§€ ë¹„ìš©'ìœ¼ë¡œ ë‚˜ë‰˜ë©°, ì´ ë‘˜ì€ ì„œë¡œ ë°˜ëŒ€ë¡œ ì›€ì§ì´ëŠ” ìƒì¶© ê´€ê³„ì— ìˆìŠµë‹ˆë‹¤. EOQëŠ” ì´ ë‘ ë¹„ìš©ì˜ ê· í˜•ì ì„ ì°¾ì•„ëƒ…ë‹ˆë‹¤.
            </p>
            <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                    <h3 class="text-xl font-bold mb-2 flex items-center"><span class="text-2xl mr-3">ğŸšš</span>ì£¼ë¬¸ ë¹„ìš© (Ordering Cost)</h3>
                    <p class="text-slate-600">ì¬ê³ ë¥¼ í•œ ë²ˆ ì£¼ë¬¸í•  ë•Œë§ˆë‹¤ ë°œìƒí•˜ëŠ” ê³ ì • ë¹„ìš©ì…ë‹ˆë‹¤. ì£¼ë¬¸ì„ ìì£¼ í• ìˆ˜ë¡(ì ì€ ì–‘ì„ ì—¬ëŸ¬ ë²ˆ) ì´ ì£¼ë¬¸ ë¹„ìš©ì€ ì¦ê°€í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                    <h3 class="text-xl font-bold mb-2 flex items-center"><span class="text-2xl mr-3">ğŸ“¦</span>ì¬ê³  ìœ ì§€ ë¹„ìš© (Holding Cost)</h3>
                    <p class="text-slate-600">ì¬ê³ ë¥¼ ì°½ê³ ì— ë³´ê´€í•  ë•Œ ë°œìƒí•˜ëŠ” ë¹„ìš©ì…ë‹ˆë‹¤. í•œ ë²ˆì— ë§ì´ ì£¼ë¬¸í• ìˆ˜ë¡(í‰ê·  ì¬ê³ ëŸ‰ ì¦ê°€) ì´ ì¬ê³  ìœ ì§€ ë¹„ìš©ì€ ì¦ê°€í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </section>

        <section id="visualizer" class="mb-16 section-fade-in">
            <h2 class="text-3xl font-bold mb-4 text-center">ë¹„ìš© ê´€ê³„ ì‹œê°í™” ë„êµ¬</h2>
            <p class="max-w-3xl mx-auto text-center text-slate-600 mb-8">
                ì•„ë˜ ìŠ¬ë¼ì´ë”ë¥¼ ì›€ì§ì—¬ '1íšŒ ì£¼ë¬¸ëŸ‰'ì„ ì¡°ì ˆí•´ë³´ì„¸ìš”. ì£¼ë¬¸ëŸ‰ì— ë”°ë¼ ê° ë¹„ìš©ê³¼ ì´ë¹„ìš©ì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ì™œ íŠ¹ì • ì§€ì ì—ì„œ ì´ë¹„ìš©ì´ ìµœì†Œê°€ ë˜ëŠ”ì§€ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
                <div class="chart-container mb-6">
                    <canvas id="costChart"></canvas>
                </div>
                <div class="px-2">
                    <label for="orderQuantitySlider" class="block font-bold mb-2 text-lg">1íšŒ ì£¼ë¬¸ëŸ‰ (Q) ì¡°ì ˆ:</label>
                    <input id="orderQuantitySlider" type="range" min="100" max="4000" value="1000" step="50" class="w-full h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer range-lg">
                    <div class="flex justify-between text-sm text-slate-500 mt-1">
                        <span>ì ê²Œ ì£¼ë¬¸</span>
                        <span>ë§ì´ ì£¼ë¬¸</span>
                    </div>
                </div>
                <div id="costDisplay" class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div class="bg-slate-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-slate-500">í˜„ì¬ ì£¼ë¬¸ëŸ‰</p>
                        <p id="currentQ" class="text-2xl font-bold text-teal-600"></p>
                    </div>
                    <div class="bg-slate-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-slate-500">ì—°ê°„ ì£¼ë¬¸ ë¹„ìš©</p>
                        <p id="orderingCost" class="text-2xl font-bold text-blue-600"></p>
                    </div>
                     <div class="bg-slate-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-slate-500">ì—°ê°„ ìœ ì§€ ë¹„ìš©</p>
                        <p id="holdingCost" class="text-2xl font-bold text-amber-600"></p>
                    </div>
                    <div class="bg-slate-100 p-4 rounded-lg">
                        <p class="text-sm font-semibold text-slate-500">ì—°ê°„ ì´ë¹„ìš©</p>
                        <p id="totalCost" class="text-2xl font-bold text-red-600"></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="calculator" class="mb-16 section-fade-in">
            <h2 class="text-3xl font-bold mb-4 text-center">EOQ ê³„ì‚°ê¸°</h2>
            <p class="max-w-3xl mx-auto text-center text-slate-600 mb-8">
                ìì‹ ë§Œì˜ ë°ì´í„°ë¥¼ ì…ë ¥í•˜ì—¬ ê²½ì œì  ì£¼ë¬¸ìˆ˜ëŸ‰ì„ ì§ì ‘ ê³„ì‚°í•´ë³´ì„¸ìš”. ì…ë ¥ê°’ì— ë”°ë¼ ê²°ê³¼ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
            </p>
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-xl shadow-lg border border-slate-200 space-y-6">
                    <div>
                        <label for="annualDemand" class="block text-lg font-medium mb-2">ì—°ê°„ ìˆ˜ìš”ëŸ‰ (D)</label>
                        <input type="number" id="annualDemand" value="10000" class="w-full p-3 border border-slate-300 rounded-lg text-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                    </div>
                    <div>
                        <label for="orderCost" class="block text-lg font-medium mb-2">1íšŒ ì£¼ë¬¸ ë¹„ìš© (S)</label>
                        <input type="number" id="orderCost" value="30000" class="w-full p-3 border border-slate-300 rounded-lg text-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                    </div>
                    <div>
                        <label for="holdingCostPerUnit" class="block text-lg font-medium mb-2">ë‹¨ìœ„ë‹¹ ì—°ê°„ ìœ ì§€ ë¹„ìš© (H)</label>
                        <input type="number" id="holdingCostPerUnit" value="600" class="w-full p-3 border border-slate-300 rounded-lg text-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                    </div>
                </div>
                <div class="bg-teal-600 text-white p-8 rounded-xl shadow-lg flex flex-col justify-center items-center text-center">
                    <h3 class="text-xl font-bold mb-2 text-teal-100">ê³„ì‚° ê²°ê³¼</h3>
                    <p class="text-3xl sm:text-4xl font-bold mb-1" id="eoqResult">1,000</p>
                    <p class="text-teal-200 mb-6">ìµœì  ì£¼ë¬¸ëŸ‰ (ê°œ)</p>
                    
                    <div class="w-full bg-teal-700 rounded-lg p-4">
                        <p class="text-lg font-bold" id="orderFrequency">ì—°ê°„ 10íšŒ ì£¼ë¬¸</p>
                        <p class="text-sm text-teal-200">ìµœì  ì£¼ë¬¸ íšŸìˆ˜</p>
                    </div>

                    <div class="w-full mt-4 text-sm grid grid-cols-2 gap-2 text-left bg-teal-500 p-3 rounded-lg">
                        <p>ì£¼ë¬¸ë¹„ìš©:</p><p class="font-mono text-right" id="eoqOrderingCost"></p>
                        <p>ìœ ì§€ë¹„ìš©:</p><p class="font-mono text-right" id="eoqHoldingCost"></p>
                        <hr class="col-span-2 border-teal-400 my-1">
                        <p class="font-bold">ì´ë¹„ìš©:</p><p class="font-mono font-bold text-right" id="eoqTotalCost"></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="deep-dive" class="section-fade-in">
            <h2 class="text-3xl font-bold mb-4 text-center">ì‹¬í™” í•™ìŠµ</h2>
            <p class="max-w-3xl mx-auto text-center text-slate-600 mb-8">
                EOQ ê³µì‹ì´ ì–´ë–»ê²Œ ìœ ë„ë˜ì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  ì–´ë–¤ ê°€ì •ê³¼ í•œê³„ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ ì•Œì•„ë³´ì„¸ìš”.
            </p>
            <div class="max-w-4xl mx-auto space-y-4">
                <div class="bg-white rounded-xl shadow-md border border-slate-200">
                    <button id="derivation-toggle" class="w-full text-left p-6 font-bold text-xl flex justify-between items-center">
                        EOQ ê³µì‹ ìœ ë„ ê³¼ì •
                        <span id="derivation-icon" class="transform transition-transform">â–¼</span>
                    </button>
                    <div id="derivation-content" class="hidden px-6 pb-6 border-t border-slate-200">
                        <div class="prose max-w-none text-slate-600 mt-4">
                            <p>ì´ë¹„ìš©(TC)ì€ ì—°ê°„ ì£¼ë¬¸ë¹„ìš©ê³¼ ì—°ê°„ ì¬ê³ ìœ ì§€ë¹„ìš©ì˜ í•©ì…ë‹ˆë‹¤.</p>
                            <p><code class="bg-slate-200 px-1 rounded">TC = (D/Q)S + (Q/2)H</code></p>
                            <ol>
                                <li><b>ì—°ê°„ ì£¼ë¬¸ë¹„ìš©:</b> (ì—°ê°„ ìˆ˜ìš”ëŸ‰ D / 1íšŒ ì£¼ë¬¸ëŸ‰ Q) Ã— 1íšŒ ì£¼ë¬¸ë¹„ìš© S</li>
                                <li><b>ì—°ê°„ ì¬ê³ ìœ ì§€ë¹„ìš©:</b> í‰ê·  ì¬ê³ ëŸ‰ (Q/2) Ã— ë‹¨ìœ„ë‹¹ ì—°ê°„ ì¬ê³ ìœ ì§€ë¹„ìš© H</li>
                            </ol>
                            <p>ì´ TC í•¨ìˆ˜ë¥¼ ë¹„ìš©ì´ ìµœì†Œê°€ ë˜ëŠ” Qì— ëŒ€í•´ ë¯¸ë¶„í•˜ì—¬ 0ìœ¼ë¡œ ë†“ê³  í’€ë©´ EOQ ê³µì‹ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                            <p><code class="bg-slate-200 px-1 rounded">dTC/dQ = -DS/QÂ² + H/2 = 0</code></p>
                            <p>ì •ë¦¬í•˜ë©´, <code class="bg-slate-200 px-1 rounded">QÂ² = 2DS/H</code> ê°€ ë˜ì–´ ìµœì¢… ê³µì‹ì´ ë„ì¶œë©ë‹ˆë‹¤.</p>
                            <p class="font-bold text-lg text-center mt-4">
                                Q* = &radic;<span style="text-decoration: overline;">&nbsp;2DS / H&nbsp;</span>
                            </p>
                        </div>
                    </div>
                </div>
                 <div class="bg-white rounded-xl shadow-md border border-slate-200 p-6">
                    <h3 class="font-bold text-xl mb-3">ëª¨ë¸ì˜ ê°€ì •ê³¼ í•œê³„ì </h3>
                    <ul class="list-disc list-inside text-slate-600 space-y-2">
                        <li>ìˆ˜ìš”ê°€ ì—°ì¤‘ ì¼ì •í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.</li>
                        <li>ì£¼ë¬¸ë¹„ìš©ê³¼ ì¬ê³ ìœ ì§€ë¹„ìš©ì´ ê³ ì •ë˜ì–´ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.</li>
                        <li>ì£¼ë¬¸í•œ ë¬¼í’ˆì€ ë¦¬ë“œíƒ€ì„ ì—†ì´ ì¦‰ì‹œ ì…ê³ ëœë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.</li>
                        <li>ëŒ€ëŸ‰ êµ¬ë§¤ì— ë”°ë¥¸ ê°€ê²© í• ì¸ì´ ì—†ë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.</li>
                        <li class="pt-2 text-sm text-slate-500">â€» ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì´ëŸ¬í•œ ë¶ˆí™•ì‹¤ì„±ì— ëŒ€ì‘í•˜ê¸° ìœ„í•´ ì•ˆì „ ì¬ê³ , ì¬ì£¼ë¬¸ì  ë“±ì˜ ê¸°ë²•ê³¼ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center py-6 text-sm text-slate-500 border-t mt-12">
        <p>&copy; 2025 Interactive EOQ Guide. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const D_vis = 10000;
            const S_vis = 30000;
            const H_vis = 600;

            const slider = document.getElementById('orderQuantitySlider');
            const currentQDisplay = document.getElementById('currentQ');
            const orderingCostDisplay = document.getElementById('orderingCost');
            const holdingCostDisplay = document.getElementById('holdingCost');
            const totalCostDisplay = document.getElementById('totalCost');

            const ctx = document.getElementById('costChart').getContext('2d');
            let costChart;

            function formatCurrency(value) {
                return new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' }).format(value);
            }
            
            function formatNumber(value) {
                return new Intl.NumberFormat('ko-KR').format(value);
            }

            function createChart() {
                const labels = [];
                const range = slider.max - slider.min;
                for (let i = 0; i <= range; i += 100) {
                    labels.push(parseInt(slider.min) + i);
                }

                const orderingCostData = labels.map(q => (D_vis / q) * S_vis);
                const holdingCostData = labels.map(q => (q / 2) * H_vis);
                const totalCostData = labels.map((q, index) => orderingCostData[index] + holdingCostData[index]);
                const eoqPoint = Math.sqrt((2 * D_vis * S_vis) / H_vis);
                
                costChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: 'ì—°ê°„ ì£¼ë¬¸ ë¹„ìš©',
                                data: orderingCostData,
                                borderColor: 'rgb(59, 130, 246)',
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                tension: 0.3,
                                borderWidth: 2,
                                pointRadius: 0
                            },
                            {
                                label: 'ì—°ê°„ ìœ ì§€ ë¹„ìš©',
                                data: holdingCostData,
                                borderColor: 'rgb(217, 119, 6)',
                                backgroundColor: 'rgba(217, 119, 6, 0.1)',
                                tension: 0.3,
                                borderWidth: 2,
                                pointRadius: 0
                            },
                            {
                                label: 'ì—°ê°„ ì´ë¹„ìš©',
                                data: totalCostData,
                                borderColor: 'rgb(220, 38, 38)',
                                backgroundColor: 'rgba(220, 38, 38, 0.1)',
                                tension: 0.3,
                                borderWidth: 3,
                                pointRadius: 0
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += formatCurrency(context.parsed.y);
                                        }
                                        return label;
                                    }
                                }
                            },
                            legend: {
                                position: 'top',
                            }
                        },
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: '1íšŒ ì£¼ë¬¸ëŸ‰ (Q)'
                                }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'ì—°ê°„ ë¹„ìš© (ì›)'
                                },
                                ticks: {
                                    callback: function(value, index, values) {
                                        return formatCurrency(value);
                                    }
                                }
                            }
                        },
                        annotation: {
                            annotations: {
                                line1: {
                                    type: 'line',
                                    xMin: eoqPoint,
                                    xMax: eoqPoint,
                                    borderColor: 'rgb(22, 163, 74)',
                                    borderWidth: 2,
                                    borderDash: [6, 6],
                                    label: {
                                        content: `EOQ: ${formatNumber(eoqPoint.toFixed(0))}`,
                                        enabled: true,
                                        position: 'start',
                                        backgroundColor: 'rgba(22, 163, 74, 0.8)',
                                        font: {
                                          weight: 'bold'
                                        }
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function updateVisualizer(q) {
                const currentQ = parseInt(q);
                const orderCost = (D_vis / currentQ) * S_vis;
                const holdCost = (currentQ / 2) * H_vis;
                const totCost = orderCost + holdCost;

                currentQDisplay.textContent = `${formatNumber(currentQ)}ê°œ`;
                orderingCostDisplay.textContent = formatCurrency(orderCost);
                holdingCostDisplay.textContent = formatCurrency(holdCost);
                totalCostDisplay.textContent = formatCurrency(totCost);
            }

            slider.addEventListener('input', (e) => {
                updateVisualizer(e.target.value);
            });
            
            createChart();
            updateVisualizer(slider.value);

            const annualDemandInput = document.getElementById('annualDemand');
            const orderCostInput = document.getElementById('orderCost');
            const holdingCostPerUnitInput = document.getElementById('holdingCostPerUnit');
            const eoqResultDisplay = document.getElementById('eoqResult');
            const orderFrequencyDisplay = document.getElementById('orderFrequency');
            const eoqOrderingCostDisplay = document.getElementById('eoqOrderingCost');
            const eoqHoldingCostDisplay = document.getElementById('eoqHoldingCost');
            const eoqTotalCostDisplay = document.getElementById('eoqTotalCost');

            function calculateAndDisplayEOQ() {
                const D = parseFloat(annualDemandInput.value) || 0;
                const S = parseFloat(orderCostInput.value) || 0;
                const H = parseFloat(holdingCostPerUnitInput.value) || 0;

                if (D > 0 && S > 0 && H > 0) {
                    const eoq = Math.sqrt((2 * D * S) / H);
                    const orderFreq = D / eoq;
                    
                    const ordCost = (D/eoq) * S;
                    const hldCost = (eoq/2) * H;
                    const ttlCost = ordCost + hldCost;

                    eoqResultDisplay.textContent = formatNumber(eoq.toFixed(0));
                    orderFrequencyDisplay.textContent = `ì—°ê°„ ${orderFreq.toFixed(2)}íšŒ ì£¼ë¬¸`;
                    eoqOrderingCostDisplay.textContent = formatCurrency(ordCost);
                    eoqHoldingCostDisplay.textContent = formatCurrency(hldCost);
                    eoqTotalCostDisplay.textContent = formatCurrency(ttlCost);

                } else {
                    eoqResultDisplay.textContent = '---';
                    orderFrequencyDisplay.textContent = '---';
                    eoqOrderingCostDisplay.textContent = '---';
                    eoqHoldingCostDisplay.textContent = '---';
                    eoqTotalCostDisplay.textContent = '---';
                }
            }

            [annualDemandInput, orderCostInput, holdingCostPerUnitInput].forEach(input => {
                input.addEventListener('input', calculateAndDisplayEOQ);
            });
            
            calculateAndDisplayEOQ();

            const derivationToggle = document.getElementById('derivation-toggle');
            const derivationContent = document.getElementById('derivation-content');
            const derivationIcon = document.getElementById('derivation-icon');

            derivationToggle.addEventListener('click', () => {
                const isHidden = derivationContent.classList.toggle('hidden');
                derivationIcon.style.transform = isHidden ? 'rotate(0deg)' : 'rotate(180deg)';
            });

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
